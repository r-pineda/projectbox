<ActionBar title="">
    <GridLayout rows="*,*" columns="*" class="padding-right-10">
        <Label class="fa" (tap)="nav.openDrawer()" [text]="'fa-bars' | fonticon" ios:horizontalAlignment="left"
               android:horizontalAlignment="left" row="0" col="0"></Label>
        <Label text="Meeting-Detailansicht" class="nav-h3" row="0" col="1"></Label>
    </GridLayout>
</ActionBar>
<ScrollView tkMainContent orientation="vertical" isEnabled="true" width="100%" height="100%">
    <AbsoluteLayout>
        <StackLayout class="page" width="100%">
            <!--<StackLayout orientation="horizontal" horizontalAlignment="right">
                <Button class="btn btn-primary btn-active" (tap)="openCamera()" text="Abbrechen"></Button>
                <Button class="btn btn-primary btn-active" (tap)="uploadFile()" text="Aktualisieren"></Button>
            </StackLayout>-->
            <GridLayout rows="auto, *">
                <StackLayout class="form-taskticket" row="1">
                    <Label class="fa" [text]="'fa-angle-down' | fonticon" (tap)="cancel()"
                           horizontalAlignment="center"></Label>
                    <Label class="h5" text="TITEL"></Label>
                    <TextField class="textfield" [(ngModel)]="meeting.name"></TextField>
                    <Label class="h5" text="DATUM"></Label>
                    <DatePicker (loaded)="onPickerLoaded($event)" (dateChange)="onDateChanged($event)" verticalAlignment="center"></DatePicker>
                    <!--<TextField class="textfield" [(ngModel)]="meeting.date"></TextField>-->
                    <GridLayout columns="*,*" rows="*,*">
                        <Label class="h5" text="BEGINN" col="0" row="0"></Label>
                        <TextField class="textfield" [(ngModel)]="meeting.date" col="0" row="1"
                                   style="margin-right:5;"></TextField>
                        <Label class="h5" text="DAUER IN MINUTEN" col="1" row="0"></Label>
                        <TextField class="textfield" keyboardType="number" [(ngModel)]="meeting.duration" col="1" row="1"></TextField>
                    </GridLayout>
                    <Label class="h5" text="PROJEKT"></Label>
                    <!--<TextField class="textfield" [(ngModel)]="meeting.project"></TextField>-->
                    <DropDown #dd
                              style="padding: 5;font-size: 15;background-color: #EBEBEB;margin-bottom:15;"
                              [items]="projectNames"
                              [(ngModel)]="projectSelection"
                              (opened)="onopen()"
                              (closed)="onclose()"></DropDown>
                    <Label class="h5" text="TEILNEHMER"></Label>
                    <TextField class="textfield" [(ngModel)]="meeting.attendees"></TextField>
                    <Label class="field-seperator" height="1"></Label>
                    <GridLayout columns="*,*,*" rows="*,*">
                        <Image [src]="meeting_tabs == 'agenda' ? '~/images/agenda_t.png' : '~/images/agenda_g.png'" (tap)="state('agenda')" row="0" col="0" width="20"
                               height="20" stretch="aspectFit"></Image>
                        <Image [src]="meeting_tabs == 'protokoll' ? '~/images/protokoll_t.png' : '~/images/protokoll_g.png'" (tap)="state('protokoll')" row="0" col="1" width="40"
                               height="20" stretch="aspectFit"></Image>
                        <Image src="~/images/files.png" (tap)="state('files')" row="0" col="2" width="40"
                               height="20"
                               stretch="aspectFit"></Image>
                        <Label class="h4" text="Agenda" [style.color]="meeting_tabs == 'agenda' ? '#03A698' : '#222222'" col="0" row="1" horizontalAlignment="center"
                               (tap)="state('agenda')"></Label>
                        <Label class="h4" text="Protokoll" [style.color]="meeting_tabs == 'protokoll' ? '#03A698' : '#222222'" col="1" row="1" horizontalAlignment="center"
                               (tap)="state('protokoll')"></Label>
                        <Label class="h4" text="Files" [style.color]="meeting_tabs == 'files' ? '#03A698' : '#222222'" col="2" row="1" horizontalAlignment="center"
                               (tap)="state('files')"></Label>
                    </GridLayout>
                    <Label class="field-seperator" height="1"></Label>
                    <StackLayout [ngSwitch]="meeting_tabs">
                        <StackLayout *ngSwitchCase="'agenda'">
                            <StackLayout>
                                <GridLayout rows="*,*" columns="*,*, auto">
                                    <TextView hint="Agendapunkt" class="textfield agenda" row="0"
                                              colSpan="2"></TextView>
                                    <TextView hint="Verantwortlicher" class="textfield agenda" row="1" col="0"
                                              style="margin-right:5;"></TextView>
                                    <TextView hint="Dauer" keyboardType="number" class="textfield agenda" row="1" col="1"></TextView>
                                </GridLayout>
                            </StackLayout>
                        </StackLayout>
                        <StackLayout *ngSwitchCase="'protokoll'">
                            <TextView  style="margin-top: 15px"  height="500px" hint="Inhalt vom Protokoll eingeben"  returnKeyType="send" class="input"></TextView>
                            <!--<StackLayout class="tabs">
                                <GridLayout rows="auto, auto" columns="auto, *">
                                    <StackLayout class="btn-img" row="0" col="0" verticalAlignment="center">
                                        <Image src="~/images/abbrechen2.png" width="20" height="20"
                                               stretch="aspectFit" verticalAlignment="center"></Image>
                                    </StackLayout>
                                    <TextView text="MANUEL GAFOZ Neue DEADLINE: Ende J채nner" editable="false"
                                              textWrap="true"
                                              class="longtext h4" col="1"
                                              row="0"></TextView>
                                    <Label text="16. Oktober 2017 um 16:35" col="1" row="1"></Label>
                                </GridLayout>
                            </StackLayout>
                            <StackLayout class="tabs">
                                <GridLayout rows="auto, auto" columns="auto, *">
                                    <StackLayout class="btn-img" row="0" col="0" verticalAlignment="center">
                                        <Image src="~/images/abbrechen2.png" width="20" height="20"
                                               stretch="aspectFit" verticalAlignment="center"></Image>
                                    </StackLayout>
                                    <TextView text="MANUEL GAFOZ Neue DEADLINE: Ende J채nner" editable="false"
                                              textWrap="true"
                                              class="longtext h4" col="1"
                                              row="0"></TextView>
                                    <Label text="16. Oktober 2017 um 16:35" col="1" row="1"></Label>
                                </GridLayout>
                            </StackLayout>
                            <StackLayout class="tabs">
                                <GridLayout rows="auto, auto" columns="auto, *">
                                    <StackLayout class="btn-img" row="0" col="0" verticalAlignment="center">
                                        <Image src="~/images/abbrechen2.png" width="20" height="20"
                                               stretch="aspectFit" verticalAlignment="center"></Image>
                                    </StackLayout>
                                    <TextView text="MANUEL GAFOZ Neue DEADLINE: Ende J채nner" editable="false"
                                              textWrap="true"
                                              class="longtext h4" col="1"
                                              row="0"></TextView>
                                    <Label text="16. Oktober 2017 um 16:35" col="1" row="1"></Label>
                                </GridLayout>
                            </StackLayout>
                            <GridLayout rows="*" columns="auto,*,auto" orientation="horizontal">
                                <StackLayout class="btn-img" row="0" col="0">
                                    <Image src="~/images/abbrechen2.png" width="20" height="20"
                                           stretch="aspectFit"></Image>
                                </StackLayout>
                                <TextView hint="Kommentieren" class="textfield" row="0" col="1"></TextView>
                                <StackLayout class="btn-img" (tap)="submit()" row="0" col="2">
                                    <Image src="~/images/send.png" width="20" height="20" stretch="aspectFit"></Image>
                                </StackLayout>
                            </GridLayout>-->
                        </StackLayout>
                        <StackLayout *ngSwitchCase="'files'">
                            <GridLayout columns="*,*" rows="*">
                                <StackLayout orientation="horizontal" row="0" col="0">
                                    <StackLayout class="btn-img">
                                        <Image src="~/images/files.png" width="20" height="20" (tap)="sourcepic()" stretch="aspectFit"></Image>
                                    </StackLayout>
                                    <Label verticalAlignment="center" text="Datei hinzuf체gen"></Label>
                                </StackLayout>
                            <StackLayout orientation="horizontal" row="0" col="1">
                            <StackLayout class="btn-img">
                                <Image src="~/images/photo-camera.png" width="20" height="20" (tap)="sourcepic()" stretch="aspectFit"></Image>
                            </StackLayout>
                                <Label verticalAlignment="center" text="Foto hinzuf체gen"></Label>
                            </StackLayout>
                            </GridLayout>
                            <GridLayout columns="auto,*" rows="*,*" *ngFor="let file of userFiles" style="padding:5; margin-top: 10;">
                                <Image (tap)="showImage(file.imagesrc)" src="~/images/picture_file.png" rowSpan="2" col="0"
                                       width="40" height="40" ></Image> <!-- [src]=filetype? picture : document -->
                                <Label [text]="file.name" row="0" col="1" verticalAlignment="center" style="padding:5;"></Label>
                                <!--<Label [text]="imagefile.name"></Label>-->
                                <Label [text]="file.size + ' Bytes'" row="1" col="1" verticalAlignment="center" style="padding:5;"></Label>
                            </GridLayout>
                        </StackLayout>
                    </StackLayout>
                    <StackLayout orientation="horizontal">
                        <FAB icon="~/images/abbrechen2.png" (tap)="cancel()" rippleColor="#f1f1f1"
                             class="fab-button"></FAB>
                        <FAB icon="~/images/save.png" rippleColor="#f1f1f1" (tap)="updateMeeting()"
                             class="fab-button"></FAB>
                    </StackLayout>
                </StackLayout>
            </GridLayout>
        </StackLayout>
    </AbsoluteLayout>
</ScrollView>